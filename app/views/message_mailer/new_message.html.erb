<!DOCTYPE html>
<html>
<head>
  <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
</head>
<body style="font-family: Arial, sans-serif; line-height: 1.6; color: #333;">
  <div style="max-width: 600px; margin: 0 auto; padding: 20px;">
    <h2 style="color: #3b82f6;">New Message About Your Trade</h2>

    <p>Hi <%= @recipient.name %>,</p>

    <p>You have received a new message about your trade listing.</p>

    <div style="background-color: #f3f4f6; padding: 15px; border-radius: 5px; margin: 20px 0;">
      <h3 style="margin-top: 0;">Trade Details</h3>
      <p><strong>Item:</strong> <%= @conversation.trade.item&.name %></p>
      <p><strong>Price:</strong> <%= number_to_currency(@conversation.trade.price) %></p>
      <p><strong>From:</strong> <%= @message.sender_name %></p>
    </div>

    <div style="background-color: #fff; border-left: 4px solid #3b82f6; padding: 15px; margin: 20px 0;">
      <p style="margin: 0; white-space: pre-wrap;"><%= @message.body %></p>
    </div>

    <div style="margin: 30px 0;">
      <%= link_to "Reply to Message", @reply_url, style: "display: inline-block; background-color: #3b82f6; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;" %>
    </div>

    <p style="font-size: 12px; color: #666; margin-top: 30px;">
      This is an automated notification from Nexlock. To manage your notification preferences, visit your account settings.
    </p>
  </div>
</body>
</html>
